<!DOCTYPE html>
<html>

<head>
  <title>WebSD | Home</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css"
    integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="/assets/css/main.css">
  <link rel="stylesheet" href="/assets/css/group.css">
  <!-- <link rel="stylesheet" href="/css/table.css">          -->
  <link rel="shortcut icon" href="/assets/img/logo/mlc-favicon.png">
  <meta http-equiv="origin-trial"
    content="Agx76XA0ITxMPF0Z8rbbcMllwuxsyp9qdtQaXlLqu1JUrdHB6FPonuyIKJ3CsBREUkeioJck4nn3KO0c0kkwqAMAAABJeyJvcmlnaW4iOiJodHRwOi8vbG9jYWxob3N0Ojg4ODgiLCJmZWF0dXJlIjoiV2ViR1BVIiwiZXhwaXJ5IjoxNjkxNzExOTk5fQ==">
  <meta http-equiv="origin-trial"
    content="AnmwqQ1dtYDQTYkZ5iMtHdINCaxjE94uWQBKp2yOz1wPTcjSRtOHUGQG+r2BxsEuM0qhxTVnuTjyh31HgTeA8gsAAABZeyJvcmlnaW4iOiJodHRwczovL21sYy5haTo0NDMiLCJmZWF0dXJlIjoiV2ViR1BVIiwiZXhwaXJ5IjoxNjkxNzExOTk5LCJpc1N1YmRvbWFpbiI6dHJ1ZX0=">
  <script src="dist/tvmjs_runtime.wasi.js"></script>
  <script src="dist/tvmjs.bundle.js"></script>

</head>

<body>
  <div class="container">

    <h1 id="web-stable-diffusion">Web Stable Diffusion</h1>

    <h3 id="demo">Demo</h3>

    <script>
      var tvmjsGlobalEnv = tvmjsGlobalEnv || {};
    </script>

    <script type="module">
      import init, { TokenizerWasm } from "./dist/tokenizers-wasm/tokenizers_wasm.js";

      var initialized = false;
      async function getTokenizer(name) {
        if (!initialized) {
          await init();
        }
        const jsonText = await (await fetch("https://huggingface.co/" + name + "/raw/main/tokenizer.json")).text();
        return new TokenizerWasm(jsonText);
      }

      tvmjsGlobalEnv.getTokenizer = getTokenizer;
    </script>

    <script src="dist/stable_diffusion.js"></script>

    <div>
      Input prompt: <input name="inputPrompt" id="inputPrompt" type="text"
        value="A photo of an astronaut riding a horse on mars" size="77" /> <br />
      Negative prompt (optional): <input name="negativePrompt" id="negativePrompt" type="text" value="" size="77" />
    </div>

    <div>
      Select scheduler -
      <select name="scheduler" id="schedulerId">
        <option value="0">Multi-step DPM Solver (20 steps)</option>
        <option value="1">PNDM (50 steps)</option>
      </select>

      <br />

      Render intermediate steps (may slow down execution) -
      <select name="vae-cycle" id="vaeCycle">
        <option value="-1">No</option>
        <option value="2">Run VAE every two UNet steps after step 10</option>
      </select>

      <div id="progress">
        <label id="gpu-tracker-label"></label><br />
        <label id="progress-tracker-label"></label><br />
        <progress id="progress-tracker-progress" max="100" value="100"> </progress>
      </div>
      <button onclick="tvmjsGlobalEnv.asyncOnGenerate()">Generate</button>
    </div>

    <div>
      <canvas id="canvas" width="512" height="512"></canvas>
    </div>
    <div id="log"></div>






  </div>

  <script type="text/javascript" src="/assets/js/srcset-polyfill.js"></script>
</body>

</html>